apiVersion: edictum/v1
kind: ContractBundle

metadata:
  name: post-redact

defaults:
  mode: enforce

contracts:
  - id: redact-pii
    type: post
    tool: "*"
    when:
      output.text:
        matches: '\b\d{3}-\d{2}-\d{4}\b'
    then:
      effect: redact
      message: "PII detected â€” redacting output."
